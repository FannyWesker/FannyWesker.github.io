

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="Fanny Wesker">
    
    <meta name="description" content="上一篇，记录了面向对象的基础知识。这篇主要是深入组件相关的方面。
包装对象只有是对象，才回有方法。所以，有了包装对象。
含义：基本类型（除了null、undefined）都有自己对应的包装对象。
包装对象有： String Number Boolean .
123var str = new Stri">
    
    

    
    <link rel="alternative" href="YOUR_RSS_ADDRESS" title="问号" type="application/atom+xml">
    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JS关于面向对象之组件 | 问号 · 小白的成长之路</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script> 
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://FannyWesker.github.io" title="问号">问号</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                <p class="navbar-text pull-right">小白的成长之路</p>

                <ul class="nav navbar-nav">
                    
                    <li id="nav-archives"><a href="/archives">归档</a></li>
                    
                    
                    <li><a href="https://github.com/FannyWesker" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <script>
    var backRoot = "/images/background/";
    var backArray = [ "1.jpg", "2.jpg", "3.jpg",  ];
        
    $(function() {
        // page-id...
        var pageId = "2016/12/21/JS关于面向对象之组件/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";
        
        $("#nav-" + pageId).addClass("active");
    });
    </script>

    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>JS关于面向对象之组件</h1>
        
        <div class="time-info">
发表于:<time datetime="2016-12-21T06:47:52.000Z" itemprop="datePublished">2016-12-21</time>，更新于:<time datetime="2016-12-30T08:22:25.000Z" itemprop="dateModified">2016-12-30</time>，By <a href="https://FannyWesker.github.io" title="Fanny Wesker">Fanny Wesker</a>
        </div>
        
        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#包装对象"><span class="toc-number">1.</span> <span class="toc-text">包装对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#原型链"><span class="toc-number">2.</span> <span class="toc-text">原型链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用属性和方法"><span class="toc-number">3.</span> <span class="toc-text">常用属性和方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#继承"><span class="toc-number">4.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件开发"><span class="toc-number">5.</span> <span class="toc-text">组件开发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义事件"><span class="toc-number">6.</span> <span class="toc-text">自定义事件</span></a></li></ol>
            </div>
            
            <p>上一篇，记录了面向对象的基础知识。这篇主要是深入组件相关的方面。</p>
<h3 id="包装对象"><a href="#包装对象" class="headerlink" title="包装对象"></a>包装对象</h3><pre><code>只有是对象，才回有方法。所以，有了包装对象。
含义：基本类型（除了null、undefined）都有自己对应的包装对象。
包装对象有： String Number Boolean .
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>);</div><div class="line">alert(<span class="keyword">typeof</span> str);		<span class="comment">//object</span></div><div class="line">alert(str.charAt(<span class="number">1</span>));		<span class="comment">//e</span></div></pre></td></tr></table></figure>
<p>在字符串（string）下的chartAt方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">String</span>.prototype.charAt = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下面的基本类型也可以使用方法，这是为什么呢？请往下看👀</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'hello'</span>;</div><div class="line">alert(<span class="keyword">typeof</span> str);		<span class="comment">//string</span></div><div class="line">alert(str.charAt(<span class="number">1</span>));		<span class="comment">//也可以弹出'e'</span></div></pre></td></tr></table></figure>
<p>🌟基本类型使用方法时，会找到对应的包装对象类型，然后包装对象把所有的属性和方法给了基本类型，然后包装对象消失。<br>🌟基本类型创建新的方法或属性时，用原型方法，因为它们共用所以之后调用会找到。若创建的是普通方法，调用时会是undefined，因为创建好了后，包装对象会自己消失。调用的时候又会创建新的包装对象，则会找不到刚才所创建出的新的方法或属性。</p>
<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><pre><code>原型链：实例对象与原型之间的连接。
原型链的最外层：object.prototype
</code></pre><h3 id="常用属性和方法"><a href="#常用属性和方法" class="headerlink" title="常用属性和方法"></a>常用属性和方法</h3><p><code>constructor</code>:检查是属于哪个构造函数。在for in 循环，就找不到。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Aaa</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line"><span class="comment">//Aaa.prototype.constructor = Aaa;	 每个函数都会有，它是自动生成的。当然，我们看不到，但是也是可以改的，不建议改。</span></div><div class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> Aaa();</div><div class="line">alert(a1.constructor);		<span class="comment">//Aaa</span></div></pre></td></tr></table></figure>
<p><code>toString</code>:转换成字符串。可用作判断数组类型的最好方法。其他判断方法，在iframe这种特殊情况下会出现问题。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line">alert( object.prototype.toString.call(arr) == <span class="string">'[object Array]'</span> );		<span class="comment">//true （是数组，若为false，则不是。）</span></div></pre></td></tr></table></figure></p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><pre><code>子类不影响父类，子类可以继承父类的一些功能（代码复用）。
属性的继承：调用父类的构造函数，采用call的方式。
方法的继承：for in 拷贝继承。
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreatePerson</span>(<span class="params">name,sex</span>)</span>&#123;		<span class="comment">//父类</span></div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.sex = sex;</div><div class="line">&#125;</div><div class="line">CreatePerson.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert( <span class="keyword">this</span>.name );</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> CreatePerson(<span class="string">'小花'</span>,<span class="string">'女'</span>);</div><div class="line">p1.showName();</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateStart</span>(<span class="params">name,sex,job</span>)</span>&#123;		<span class="comment">//子类</span></div><div class="line">  CreatePerson.call(<span class="keyword">this</span>,name,sex);		<span class="comment">//继承父类</span></div><div class="line">  <span class="keyword">this</span>.job = job;</div><div class="line">&#125;</div><div class="line">extend(CreateStart.prototype , CreatePreson.prototype);		<span class="comment">//继承父类方法</span></div><div class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> CreateStart(<span class="string">'大花'</span>,<span class="string">'女'</span>,<span class="string">'程序员'</span>);</div><div class="line">p2.showName();		<span class="comment">//继承方法封装</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">obj1,obj2</span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> obj2)&#123;</div><div class="line">    obj1[attr] = obj2[attr];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>除拷贝继承以外的其他较为常见的继承形式：
类式继承：利用构造函数（类）继承的方式。
原型继承：借助原型来实现对象继承对象。
补充点：
类：JS没有类的概念，是把JS中的构造函数看作类。
</code></pre><p>🌰 类式继承    (这种发式存在问题，解决方法已注释）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Aa</span>(<span class="params"></span>)</span>&#123;		<span class="comment">//父类   构造函数</span></div><div class="line">  <span class="keyword">this</span>.name = <span class="string">'Fanny'</span>;		<span class="comment">//属性</span></div><div class="line">&#125;</div><div class="line">Aa.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;		<span class="comment">//方法</span></div><div class="line">  alert(<span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Bb</span>(<span class="params"></span>)</span>&#123;		<span class="comment">//子类</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//  //问题二：避免继承之间相互影响，属性和方法需要分开继承。解决方法如下</span></div><div class="line"><span class="comment">//  var F = function()&#123;</span></div><div class="line"><span class="comment">//  &#125;</span></div><div class="line"><span class="comment">//  F.prototype = Aa.prototype;</span></div><div class="line"><span class="comment">//  Bb.prototype = new F();		//解决问题二时，需要把下面的Bb.prototype = new Aa();删去。</span></div><div class="line"><span class="comment">//(面试过程中的，面向对象一句代码继承，就是这句，但只有这一句是会存在一些问题。)</span></div><div class="line">Bb.prototype = <span class="keyword">new</span> Aa();		<span class="comment">//类式继承</span></div><div class="line"><span class="comment">//  //问题一：指向问题，修正如下</span></div><div class="line"><span class="comment">//  Bb.prototype.constructor = Bb;</span></div><div class="line"><span class="keyword">var</span> b1 = <span class="keyword">new</span> Bb();</div><div class="line">b1.showName();</div></pre></td></tr></table></figure>
<p>🌰 原型继承</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123; <span class="attr">name</span>: <span class="string">'Fanny'</span> &#125;;</div><div class="line"><span class="keyword">var</span> b =cloneObj(a);</div><div class="line">alert(b.name);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneObj</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">  F.prototype = obj;		<span class="comment">//继承</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>继承之总结
拷贝继承：比较通用 有new或无new的时候都可以。
类式继承：针对性较强 new构造函数
原型继承：针对性较强 无new的对象
</code></pre><h3 id="组件开发"><a href="#组件开发" class="headerlink" title="组件开发"></a>组件开发</h3><pre><code>这里以点击不同的button做效果为例的组件框架。
配置参数优先于默认参数。配置参数没有时，会走默认参数。
</code></pre><p>html文件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'button'</span> <span class="attr">value</span>=<span class="string">'1'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'button'</span> <span class="attr">value</span>=<span class="string">'2'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'button'</span> <span class="attr">value</span>=<span class="string">'3'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'button'</span> <span class="attr">value</span>=<span class="string">'4'</span>&gt;</span></div></pre></td></tr></table></figure>
<p>js文件（组件框架结构）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//下面有部分是使用的jquery用法，例如:$(function()&#123;&#125;);</span></div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> aInput = $(<span class="string">'input'</span>);</div><div class="line">  <span class="comment">//可以有很多个类似于d1,d2...</span></div><div class="line">  aInput[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> d1 = <span class="keyword">new</span> Dialog();</div><div class="line">    d1.init(&#123;</div><div class="line">    <span class="comment">//配置参数</span></div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line">  <span class="comment">//点击第二个按钮之后的效果</span></div><div class="line">  aInput[<span class="number">1</span>].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> d2 = <span class="keyword">new</span> Dialog();</div><div class="line">    d2.init(&#123;</div><div class="line">    <span class="comment">//配置参数</span></div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line">  <span class="comment">//...</span></div><div class="line">&#125;);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dialog</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.settings = &#123;</div><div class="line">  <span class="comment">//默认参数</span></div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line">Dialog.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">  extend(<span class="keyword">this</span>.settings,opt);</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">obj1,obj2</span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> obj2)&#123;</div><div class="line">    obj1[attr] = obj2[attr];</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h3><p>主要是跟函数有关系，就是让函数能够具备事件的某些特性。<br>自定义事件例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'show'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">'1'</span>);</div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'show'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">'2'</span>);</div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'show'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">'3'</span>);</div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line">show();		<span class="comment">//需要主动触发自定义事件</span></div></pre></td></tr></table></figure>
<p><code>object.addEventListener(事件,该事件所执行的函数,是否冒泡)</code>:这是事件绑定的一种方式。<br>上述例子中：自定义事件就是函数，让它们不会覆盖，填写事件处就是函数名。</p>
<p>原生自定义事件例子：（js内包含两个以后写自定义事件可以直接使用的封装函数）<br>html文件：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'div1'</span>&gt;</span>div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">'span1'</span>&gt;</span>span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>JS文件：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>);</div><div class="line">  <span class="keyword">var</span> oSpan = <span class="built_in">document</span>.getElementById(<span class="string">'span1'</span>);</div><div class="line">  bindEvent(oDiv,<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;		<span class="comment">//onclick事件不需要在函数内主动触发，在页面点击后即触发了。</span></div><div class="line">    alert(<span class="string">'1'</span>);</div><div class="line">  &#125;);</div><div class="line">  bindEvent(oDiv,<span class="string">'hide'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">'3'</span>);</div><div class="line">  &#125;);</div><div class="line">  bindEvent(oDiv,<span class="string">'hide'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">'2'</span>);</div><div class="line">  &#125;);</div><div class="line">  bindEvent(oSpan,<span class="string">'show'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">'1'</span>);</div><div class="line">  &#125;);</div><div class="line">  fireEvent(oSpan,<span class="string">'show'</span>);		<span class="comment">//1</span></div><div class="line">  fireEvent(oDiv,<span class="string">'hide'</span>);		<span class="comment">//3,2</span></div><div class="line">&#125;;</div><div class="line"><span class="comment">//绑定事件封装函数（不需要改，自己写自定义事件时，直接用）</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">obj,events,fn</span>)</span>&#123;</div><div class="line">  obj.listeners = obj.listeners || &#123;&#125;;</div><div class="line">  obj.listeners[events] = obj.listeners[events] || [];</div><div class="line">  obj.listeners[events].push(fn);                      </div><div class="line">  <span class="keyword">if</span>(obj.addEventListener)&#123;</div><div class="line">    obj.addEventListener(events,fn,<span class="literal">false</span>);</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="comment">//兼容IE</span></div><div class="line">    obj.attachEvent(<span class="string">'on'</span>+events,fn);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//主动触发自定义事件封装函数（不需要自己改，自己写自定义事件时，直接用）</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fireEvent</span>(<span class="params">obj,events</span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;obj.listeners[events].length,i++)&#123;</div><div class="line">    obj.listeners[events][i]();</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>


			
            <section class="comment">
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="/2016/12/21/JS关于面向对象之组件/" data-title="JS关于面向对象之组件" data-url="https://FannyWesker.github.io/2016/12/21/JS关于面向对象之组件/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"cwhh"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</section>

        </div>
    </div>
</article>

    <footer id="footer">
    <div id="bottom-tip">
        问号 —— <small>小白的成长之路</small>
    </div>

        <!-- <small>该博客由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动，搭载 <a href="https://github.com/XadillaX/hexadillax" target="_blank">Hexadillax</a> 主题</small><br /> -->

        <small>【可爱脸】前端小白&&时而安静时而抽疯</small><br/>
        <small><a href="https://github.com/FannyWesker" target="_blank">&copy; 2016 Fanny Wesker</a></small>
    </footer>

    


</body>
</html>

